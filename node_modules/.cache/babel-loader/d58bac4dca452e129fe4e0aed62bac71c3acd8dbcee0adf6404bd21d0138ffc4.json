{"ast":null,"code":"export function reducer(state, action) {\n  switch (action.type) {\n    case 'GET_GOODS':\n      {\n        return {\n          ...state,\n          goods: action.payload || [],\n          loading: false\n        };\n      }\n    case 'CLOSE_ALERT':\n      {\n        return {\n          ...state,\n          alertName: ''\n        };\n      }\n    case 'CHANGE_QUANTITY_GOOD':\n      {\n        return {\n          ...state,\n          order: state.order.map(item => {\n            if (item.id === action.payload.id && action.payload.sign === 'dec' && item.quantity === 1) return item;else if (item.id === action.payload.id && action.payload.sign === 'dec') return {\n              ...item,\n              quantity: item.quantity - 1\n            };else if (item.id === action.payload.id && action.payload.sign === 'inc') return {\n              ...item,\n              quantity: item.quantity + 1\n            };\n            return item;\n          })\n        };\n      }\n    case 'ADD_TO_BASKET':\n      {\n        let flag = false;\n        let newOrder = {\n          ...action.payload,\n          quantity: 1\n        };\n        let out = state.order.map(item => {\n          if (item.id === action.payload.id) {\n            flag = true;\n            return {\n              ...item,\n              quantity: item.quantity + 1\n            };\n          }\n          return item;\n        });\n        if (flag) return {\n          ...state,\n          order: out,\n          alertName: action.payload.name\n        };\n        return {\n          ...state,\n          alertName: action.payload.name,\n          order: [...state.order, newOrder]\n        };\n      }\n    case 'DELETE_FROM_BASKET':\n      {\n        return {\n          ...state,\n          order: state.order.filter(item => item.id !== action.payload)\n        };\n      }\n    case 'HANDLE_BASKET_SHOW':\n      {\n        return {\n          ...state,\n          basketShow: !state.basketShow\n        };\n      }\n    default:\n      {\n        return state;\n      }\n  }\n}","map":{"version":3,"names":["reducer","state","action","type","goods","payload","loading","alertName","order","map","item","id","sign","quantity","flag","newOrder","out","name","filter","basketShow"],"sources":["/Users/alex/Desktop/course-react/shop-full-react/src/reducer.js"],"sourcesContent":["\nexport function reducer(state, action) {\n    switch (action.type) {\n        case 'GET_GOODS': {\n            return {\n                ...state,\n                goods: action.payload || [],\n                loading: false\n            }\n        }\n        case 'CLOSE_ALERT': {\n            return {\n                ...state,\n                alertName: ''\n            };\n        }\n        case 'CHANGE_QUANTITY_GOOD': {\n            return {\n                ...state,\n                order: state.order.map(item => {\n                    if (item.id === action.payload.id  && action.payload.sign === 'dec' && item.quantity === 1) return item;\n                    else if (item.id === action.payload.id && action.payload.sign === 'dec') return {...item, quantity: item.quantity - 1};\n                    else if (item.id === action.payload.id  && action.payload.sign === 'inc') return {...item, quantity: item.quantity + 1};\n                    return item;\n                })\n            };\n        }\n        case 'ADD_TO_BASKET': {\n            let flag = false;\n            let newOrder = { ...action.payload, quantity: 1 };\n            let out = state.order.map(item => {\n                if (item.id === action.payload.id) {\n                    flag = true;\n                    return { ...item, quantity: item.quantity + 1 }\n                }\n                return item;\n            })\n            if (flag) return { ...state, order: out, alertName: action.payload.name };\n            return {\n                ...state,\n                alertName: action.payload.name,\n                order: [...state.order, newOrder]\n            }\n        }\n        case 'DELETE_FROM_BASKET': {\n            return {\n                ...state,\n                order: state.order.filter(item => item.id !== action.payload)\n            }\n        }\n        case 'HANDLE_BASKET_SHOW': {\n            return {\n                ...state,\n                basketShow: !state.basketShow\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n\n}"],"mappings":"AACA,OAAO,SAASA,OAAOA,CAACC,KAAK,EAAEC,MAAM,EAAE;EACnC,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,WAAW;MAAE;QACd,OAAO;UACH,GAAGF,KAAK;UACRG,KAAK,EAAEF,MAAM,CAACG,OAAO,IAAI,EAAE;UAC3BC,OAAO,EAAE;QACb,CAAC;MACL;IACA,KAAK,aAAa;MAAE;QAChB,OAAO;UACH,GAAGL,KAAK;UACRM,SAAS,EAAE;QACf,CAAC;MACL;IACA,KAAK,sBAAsB;MAAE;QACzB,OAAO;UACH,GAAGN,KAAK;UACRO,KAAK,EAAEP,KAAK,CAACO,KAAK,CAACC,GAAG,CAACC,IAAI,IAAI;YAC3B,IAAIA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACG,OAAO,CAACM,EAAE,IAAKT,MAAM,CAACG,OAAO,CAACO,IAAI,KAAK,KAAK,IAAIF,IAAI,CAACG,QAAQ,KAAK,CAAC,EAAE,OAAOH,IAAI,CAAC,KACnG,IAAIA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACG,OAAO,CAACM,EAAE,IAAIT,MAAM,CAACG,OAAO,CAACO,IAAI,KAAK,KAAK,EAAE,OAAO;cAAC,GAAGF,IAAI;cAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAG;YAAC,CAAC,CAAC,KAClH,IAAIH,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACG,OAAO,CAACM,EAAE,IAAKT,MAAM,CAACG,OAAO,CAACO,IAAI,KAAK,KAAK,EAAE,OAAO;cAAC,GAAGF,IAAI;cAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAG;YAAC,CAAC;YACvH,OAAOH,IAAI;UACf,CAAC;QACL,CAAC;MACL;IACA,KAAK,eAAe;MAAE;QAClB,IAAII,IAAI,GAAG,KAAK;QAChB,IAAIC,QAAQ,GAAG;UAAE,GAAGb,MAAM,CAACG,OAAO;UAAEQ,QAAQ,EAAE;QAAE,CAAC;QACjD,IAAIG,GAAG,GAAGf,KAAK,CAACO,KAAK,CAACC,GAAG,CAACC,IAAI,IAAI;UAC9B,IAAIA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACG,OAAO,CAACM,EAAE,EAAE;YAC/BG,IAAI,GAAG,IAAI;YACX,OAAO;cAAE,GAAGJ,IAAI;cAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAG;YAAE,CAAC;UACnD;UACA,OAAOH,IAAI;QACf,CAAC,CAAC;QACF,IAAII,IAAI,EAAE,OAAO;UAAE,GAAGb,KAAK;UAAEO,KAAK,EAAEQ,GAAG;UAAET,SAAS,EAAEL,MAAM,CAACG,OAAO,CAACY;QAAK,CAAC;QACzE,OAAO;UACH,GAAGhB,KAAK;UACRM,SAAS,EAAEL,MAAM,CAACG,OAAO,CAACY,IAAI;UAC9BT,KAAK,EAAE,CAAC,GAAGP,KAAK,CAACO,KAAK,EAAEO,QAAQ;QACpC,CAAC;MACL;IACA,KAAK,oBAAoB;MAAE;QACvB,OAAO;UACH,GAAGd,KAAK;UACRO,KAAK,EAAEP,KAAK,CAACO,KAAK,CAACU,MAAM,CAACR,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACG,OAAO;QAChE,CAAC;MACL;IACA,KAAK,oBAAoB;MAAE;QACvB,OAAO;UACH,GAAGJ,KAAK;UACRkB,UAAU,EAAE,CAAClB,KAAK,CAACkB;QACvB,CAAC;MACL;IACA;MAAS;QACL,OAAOlB,KAAK;MAChB;EACJ;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}